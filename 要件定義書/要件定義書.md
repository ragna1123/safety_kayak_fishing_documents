# 要件定義

## 機能要件
### 1. ユーザー管理
- `ユーザー登録・ログイン機能。`
- `プロフィール情報の登録・編集。`

### 2. マップと地点管理
- `マップ上に出船地点のピンを打つ機能。`
- `ユーザー個別のマイポイント（秘密の釣り場）の登録・管理。`
- `地点ごとの詳細情報閲覧（潮位、天気、風、波など）。`

### 3. 天気予報と海上情報
- `各地点での天気予報情報の取得と表示。`
- `風速、風向きの情報表示。`
- `波の高さと周期の情報表示。`
- `潮位情報の表示。`

### 4. 出船予報と計画管理
- `出船予定の作成、編集、削除機能。`
- `出船に適した条件を基にした安全スコアの算出。`
- `危険な条件下での出船時に警告を発する機能。`
- `予定された出船と帰還時間の管理。`

### 5. 安全意識向上と啓発
- `安全航行に関する情報の提供。`
- `海上での事故防止に役立つ情報の発信。`
- `事故発生時の対処法や連絡先情報の提供。`

### 6. 緊急連絡機能
- `設定した帰還時間を過ぎた場合に、登録された緊急連絡先へ自動通知する機能。`
- `海上保安庁や最寄りの港の連絡先情報をアプリ内で提供。`

### 7. フィードバックとコミュニティ機能（検討項目）
- `ユーザーからのフィードバック収集機能。`
- `安全に関する知見や経験を共有するコミュニティスペース。`
  


## 非機能要件
### 1. パフォーマンス
- 応答時間: `ユーザーインターフェースの操作応答は2秒以内に行う。`
- 処理速度: `地点情報や天気データの取得はユーザーが待つことなく迅速に表示。`

### 2. 可用性
- 稼働率: `99%以上のアプリケーション稼働率を目指す。`
- メンテナンスダウンタイム: `ユーザーの利用が少ない時間帯を選定し、事前通知を行う。`

### 3. セキュリティ
- データ保護: `ユーザーデータは暗号化して保存。`
- プライバシー: `ユーザーの位置情報などのプライバシーに関わるデータは特に厳重に管理。`

### 4. スケーラビリティ
- 負荷増大に対する柔軟性: `ユーザー数の増加やデータ量の増大に対応できるアーキテクチャを採用。`
- インフラの自動スケーリング機能を利用し、`需要の変動に応じてリソースを調整。`

### 5. 互換性
- デバイス互換性: `主要なスマートフォンOS（iOS、Android）で問題なく動作すること。`
- ブラウザ互換性: `主要なウェブブラウザでの動作を保証。`

### 6. ユーザビリティ
- 直感的なUI/UX: `初心者から経験者まで容易に使用できるインターフェースを設計。`

### 7. 法的要件
- 法規制の遵守: `データ保護法（GDPRや個人情報保護法など）への準拠。`
- 地方自治体や海上保安庁の規制に準じた運用: `法規制の遵守。`

### 8. 維持管理性
- コードの可読性と保守性: `明確なコーディング規約とドキュメントの整備。`
- システムのアップデートやバグ修正を容易に行える設計: `維持管理性の向上。`


## 開発ステップ(ライン決め)

**＊今回は実際に訪れたことのある場所として静岡県東部(南伊豆、沼津〜焼津周辺までを)に限定する**

### step1 コア機能

- ログイン機能
- マップでの地点登録、天気予報が見られること
- スケージュールが組めること
- 安否確認メールが飛ばせること

### step2 アプリとしての特色

- 予報からの安全スコアが出せる
- 危険性が高い場合の注意喚起

### step3 コンテンツの追加

- 安全航行のための啓発関連
- 潮位関連のデータ

---

# 技術選定


## フロントエンド

### フレームワーク

- Next.js

### ライブラリ

- TypeScript(検討)

### CSS
- TailwindCSS


## バックエンド

### フレームワーク

- Ruby on Rails(API)

### ライブラリ

- ActionMailer(メール送信)
- JWT(認証)
- sideqik(時刻で処理を起動させる※今回はメール送信に使用)

## データベース

- Postglesql または MySQL

## 外部 API

### 地図

- GoogleMap(地図) https://developers.google.com/maps?hl=ja

### 天気予報候補

- yhaoo!気象情報
https://developer.yahoo.co.jp/webapi/map/openlocalplatform/v1/weather.html
- OpenWeatherMap API
https://openweathermap.org/
- Weatherstack API
https://weatherstack.com/
- windy トライアル版(天気、風、波予報) https://api.windy.com/  
※多少の精度誤差と 500 回/day のアクセス制限


### 潮位

- 日本沿岸 736 港の潮汐表 https://tide736.net/

## インフラ

### AWSメイン
- ECS on Fargate
- RDS
- CI/CD環境の構築
